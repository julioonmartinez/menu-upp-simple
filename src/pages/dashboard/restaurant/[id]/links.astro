---
//dashboard/restaurant/[id]/links
import MenuuppLayout from '../../../../layouts/MenuuppLayout.astro';
import LinksDashboard from '../../../../components/LinkTreeDashboard.svelte';
import { linkTreeService } from '../../../../services/linkTreeService.ts';

const id = Astro.params.id;
let linkTree = null;

try {
  const result = await linkTreeService.getLinkTreeByRestaurant(id!);
  if (result.success) {
    linkTree = result.data;
  }
} catch (e) {
  linkTree = null;
}
---
<MenuuppLayout title='' description=''>
  <LinksDashboard client:load restaurantId={id} linkTree={linkTree} />
</MenuuppLayout>