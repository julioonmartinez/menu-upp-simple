---
import PricingCard from './PricingCard.astro';
import Button from './Button.astro';

const pricingData = [
  {
    name: 'Básico',
    price: 0,
    period: 'MXN / anual',
    popular: true,
    features: [
      'Menú digital básico',
      'Subida manual de información',
      '5 restaurantes',
      'Soporte por email',
      'Publicidad en la plataforma'
    ]
  },
  {
    name: 'Paquete 1',
    price: 999,
    discount: 30,  // Aplicamos un 30% de descuento
    period: 'MXN / anual',
    popular: false,
    features: [
      'Nosotros te ayudamos a crear tu menú',
      'Subimos tu menú a la plataforma',
      'Modo menú simple',
      'Subdominio incluido',
      'Opción de dominio personalizado', 
      'Asistencia personalizada',
      'Soporte por WhatsApp'
    ]
  },
  {
    name: 'Plan Pro',
    price: 199, // Ahora es mensual
    period: 'MXN / mensual',
    popular: false,
    features: [
      'Crea hasta 30 restaurantes',
      'Cada restaurante tiene su propio dominio',
      'Soporte por WhatsApp',
      'Estadísticas de visitas',
    ]
  },
];

---

<section class="pricing" id="pricing">
  <div class="container">
    <div class="section-header fade-in">
      <h2>Nuestros Paquetes</h2>
      <p>Encuentra el plan perfecto para las necesidades de tu restaurante.</p>
    </div>
    
    <div class="pricing-grid">
      {pricingData.map((plan, index) => (
        <PricingCard
          name={plan.name}
          price={plan.price}
          period={plan.period}
          features={plan.features}
          popular={plan.popular}
          index={index}
          discount={plan.discount}
          popularText={plan.name === 'Gratuito' ? 'Más usado' : 'Más popular'}
        >
          <Button
            text="Elegir plan"
            href={plan.name === 'Gratuito' ? '/login' : 'https://wa.me/52' + 3515097833 +'/?text=Quiero%20información%20sobre%20sus%20menús%20digitales%20' + plan.name }
            variant={plan.popular ? "primary" : "outline"}
            fullWidth={true}
          />
        </PricingCard>
      ))}
    </div>
  </div>
</section>

<style>
.pricing {
  background-color: var(--light);
  position: relative;
  overflow: hidden;
  padding: var(--space-xl) 0; /* Reducido de xxl a xl */
}

.pricing::before {
  content: '';
  position: absolute;
  bottom: -10%;
  right: -5%;
  width: 250px; /* Reducido de 300px */
  height: 250px; /* Reducido de 300px */
  background-color: rgba(255, 69, 0, 0.05);
  border-radius: 50%;
  z-index: 0;
}

.pricing .container {
  position: relative;
  z-index: 1;
}

.section-header {
  margin-bottom: var(--space-lg); /* Reducido de xl a lg */
}

.pricing-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--space-md);
  max-width: 900px;
  margin: 0 auto;
  padding: 1rem;
}

/* Tablets */
@media (max-width: 768px) {
  .pricing-grid {
    grid-template-columns: 1fr;
    max-width: 450px;
  }
}

/* Móviles */
@media (max-width: 768px) {
  .pricing {
    padding: var(--space-lg) 0; /* Aún más reducido en móvil */
  }
  
  .section-header {
    margin-bottom: var(--space-md); /* Más reducido en móvil */
  }
}
</style>